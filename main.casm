; CrypticOS Main Test Prompt

; Input var
var input 0

include "../kernel/kernel.casm"

out ">CrypticOS"
call newline

top:
	out ":"
	mov input getchar

	cmp input 'c' calc
	cmp input 'l' load
	cmp input 'e' exit

	out "Unknown"
	call newline
jmp top

calc:
	call newline

	call k.reset
	mov ga 22
	mov gb 7
	call k.div

	add gr '0' ; Result
	add gd '0' ; Remainder

	out gr
	out "."
	out gd
	
	call newline
jmp top

load:
	out ""
jmp top

newline:
	inl "!**.+++."
ret

exit:
